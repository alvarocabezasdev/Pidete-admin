(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"8cDG":function(l,n,u){"use strict";u.r(n);var t=u("CcnG"),o=function(){return function(){}}(),i=u("pMnS"),e=u("oBZk"),a=u("ZZ/e"),s=u("Ip0R"),r=u("mrSG"),c=u("CpCe"),b=function(){function l(l,n,u,t,o,i,e){this.servicio=l,this.loadingController=n,this.modalController=u,this.toastController=t,this.param=o,this.route=i,this.navController=e,this.listado=[],this.listadoPanel=[],this.cantidad=0,console.log(this.route.snapshot.paramMap.get("mesa")),this.initMesa()}return l.prototype.ionViewDidEnter=function(){this.initMesa()},l.prototype.presentToast=function(){return r.__awaiter(this,void 0,void 0,function(){return r.__generator(this,function(l){switch(l.label){case 0:return[4,this.toastController.create({message:"Mesa cerrada",duration:1e3,position:"top"})];case 1:return l.sent().present(),[2]}})})},l.prototype.totalComanda=function(){for(var l=0,n=0,u=this.listadoPanel;n<u.length;n++)l+=u[n].precio;return l},l.prototype.getCantidad=function(){return this.cantidad},l.prototype.cerrarMesa=function(){console.log(this.mesa),this.listadoPanel=[],this.servicio.borrarMesa(this.mesa),this.presentToast(),this.navController.navigateRoot("tabs/tab1")},l.prototype.productoServido=function(l){this.servicio.productoServido(this.mesa,l),this.initMesa()},l.prototype.initMesa=function(){var l=this;this.mesa=this.route.snapshot.paramMap.get("mesa"),this.servicio.leerMesa(this.mesa).subscribe(function(n){l.listado=[],n.forEach(function(n){l.listado.push(r.__assign({id:n.id},n.data()))}),l.listadoPanel=l.listado}),this.servicio.getCuentaMesa(this.mesa).subscribe(function(n){l.listado=[],n.forEach(function(n){l.listado.push(r.__assign({id:n.id},n.data()))}),l.cuentaMesa=l.listado[0].cuenta})},l}(),p=u("ZYCi"),d=t.nb({encapsulation:0,styles:[[".imagen[_ngcontent-%COMP%]{width:15%;margin:2px 20px 4px 5px}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.cantidad[_ngcontent-%COMP%]{margin-left:4%;width:16%}.precio[_ngcontent-%COMP%]{width:15%}.producto[_ngcontent-%COMP%]{width:44%}.boton[_ngcontent-%COMP%]{width:69%}.total[_ngcontent-%COMP%]{margin-left:75%;margin-bottom:-13%;margin-top:-3%}.tick[_ngcontent-%COMP%]{width:11%;margin-left:2%}"]],data:{}});function h(l){return t.Db(0,[(l()(),t.pb(0,0,null,null,2,"ion-title",[],null,null,null,e.K,e.r)),t.ob(1,49152,null,0,a.wb,[t.h,t.k],null,null),(l()(),t.Cb(2,0,[" "," "]))],null,function(l,n){l(n,2,0,n.component.mesa)})}function g(l){return t.Db(0,[(l()(),t.pb(0,0,null,null,2,"ion-title",[],null,null,null,e.K,e.r)),t.ob(1,49152,null,0,a.wb,[t.h,t.k],null,null),(l()(),t.Cb(-1,0,[" Mesa vacia "]))],null,null)}function f(l){return t.Db(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","tick"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"ion-img",[["src","./assets/imagenes/checked.png"]],null,null,null,e.B,e.i)),t.ob(2,49152,null,0,a.A,[t.h,t.k],{src:[0,"src"]},null)],function(l,n){l(n,2,0,"./assets/imagenes/checked.png")},null)}function m(l){return t.Db(0,[(l()(),t.pb(0,0,null,null,14,"ion-item",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.productoServido(l.context.$implicit)&&t),t},e.C,e.j)),t.ob(1,49152,null,0,a.E,[t.h,t.k],null,null),(l()(),t.pb(2,0,null,0,2,"div",[["class","producto"],["col-6",""]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Cb(4,null,["",""])),(l()(),t.pb(5,0,null,0,4,"div",[["class","cantidad"],["col-3",""]],null,null,null,null,null)),(l()(),t.pb(6,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.Cb(-1,null,["x"])),(l()(),t.pb(8,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Cb(9,null,["",""])),(l()(),t.pb(10,0,null,0,2,"div",[["class","precio"],["col-3",""]],null,null,null,null,null)),(l()(),t.pb(11,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Cb(12,null,["","\u20ac"])),(l()(),t.gb(16777216,null,0,1,null,f)),t.ob(14,16384,null,0,s.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,14,0,n.context.$implicit.estado)},function(l,n){l(n,4,0,n.context.$implicit.producto),l(n,9,0,n.context.$implicit.cantidad),l(n,12,0,n.context.$implicit.precio)})}function C(l){return t.Db(0,[(l()(),t.pb(0,0,null,null,7,"ion-header",[],null,null,null,e.z,e.g)),t.ob(1,49152,null,0,a.y,[t.h,t.k],null,null),(l()(),t.pb(2,0,null,0,5,"ion-toolbar",[],null,null,null,e.L,e.s)),t.ob(3,49152,null,0,a.yb,[t.h,t.k],null,null),(l()(),t.gb(16777216,null,0,1,null,h)),t.ob(5,16384,null,0,s.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.gb(16777216,null,0,1,null,g)),t.ob(7,16384,null,0,s.j,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(8,0,null,null,5,"ion-content",[],null,null,null,e.x,e.e)),t.ob(9,49152,null,0,a.r,[t.h,t.k],null,null),(l()(),t.pb(10,0,null,0,3,"ion-list",[],null,null,null,e.E,e.l)),t.ob(11,49152,null,0,a.L,[t.h,t.k],null,null),(l()(),t.gb(16777216,null,0,1,null,m)),t.ob(13,278528,null,0,s.i,[t.O,t.L,t.s],{ngForOf:[0,"ngForOf"]},null),(l()(),t.pb(14,0,null,null,11,"ion-footer",[],null,null,null,e.y,e.f)),t.ob(15,49152,null,0,a.w,[t.h,t.k],null,null),(l()(),t.pb(16,0,null,0,9,"ion-toolbar",[],null,null,null,e.L,e.s)),t.ob(17,49152,null,0,a.yb,[t.h,t.k],null,null),(l()(),t.pb(18,0,null,0,7,"div",[["class","pie"]],null,null,null,null,null)),(l()(),t.pb(19,0,null,null,3,"div",[["class","total"]],null,null,null,null,null)),(l()(),t.pb(20,0,null,null,2,"h2",[],null,null,null,null,null)),(l()(),t.pb(21,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Cb(22,null,["","\u20ac"])),(l()(),t.pb(23,0,null,null,2,"ion-button",[["class","boton"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.cerrarMesa()&&t),t},e.u,e.b)),t.ob(24,49152,null,0,a.h,[t.h,t.k],{disabled:[0,"disabled"]},null),(l()(),t.Cb(-1,0,["Cerrar mesa"]))],function(l,n){var u=n.component;l(n,5,0,u.mesa),l(n,7,0,!u.mesa),l(n,13,0,u.listadoPanel),l(n,24,0,!u.cuentaMesa)},function(l,n){l(n,22,0,n.component.totalComanda())})}function w(l){return t.Db(0,[(l()(),t.pb(0,0,null,null,1,"app-tab2",[],null,null,null,C,d)),t.ob(1,49152,null,0,b,[c.a,a.Cb,a.Db,a.Hb,a.Eb,p.a,a.Eb],null,null)],null,null)}var v=t.lb("app-tab2",b,w,{},{},[]),M=u("gIcY");u.d(n,"Tab2PageModuleNgFactory",function(){return k});var k=t.mb(o,[],function(l){return t.vb([t.wb(512,t.j,t.bb,[[8,[i.a,v]],[3,t.j],t.x]),t.wb(4608,s.l,s.k,[t.u,[2,s.r]]),t.wb(4608,a.a,a.a,[t.z,t.g]),t.wb(4608,a.Db,a.Db,[a.a,t.j,t.q,s.c]),t.wb(4608,a.Gb,a.Gb,[a.a,t.j,t.q,s.c]),t.wb(4608,M.c,M.c,[]),t.wb(1073742336,s.b,s.b,[]),t.wb(1073742336,a.Ab,a.Ab,[]),t.wb(1073742336,M.b,M.b,[]),t.wb(1073742336,M.a,M.a,[]),t.wb(1073742336,p.n,p.n,[[2,p.t],[2,p.m]]),t.wb(1073742336,o,o,[]),t.wb(1024,p.k,function(){return[[{path:"",component:b}]]},[])])})}}]);